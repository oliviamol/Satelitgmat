const viewer = new Cesium.Viewer("cesiumContainer", {
  shouldAnimate: true,
  terrainProvider: undefined
});

// Aici inserÄƒm datele tale CZML
const czmlData = 
[
    {
        "id": "document",
        "version": "1.0"
    },
    {
        "id": "Satelit_Gmat",
        "availability": "2026-02-19T21:00:00Z/2026-02-19T23:00:00Z",
        "position": {
            "interpolationAlgorithm": "HERMITE",
            "interpolationDegree": 2,
            "epoch": "2026-02-19T21:00:00Z",
            "cartesian": [
                0.0,
                6997438.348220198,
                0.0,
                0.0,
                60.00000019557774,
                6982770.568515353,
                320066.7643773678,
                320065.91891534074,
                150.600146537181,
                6905201.589709627,
                800394.8184772034,
                800383.7523222469,
                245.5426579923369,
                6753144.232194127,
                1295461.2078450872,
                1295415.9894975459,
                341.0148506169207,
                6528807.780753628,
                1779576.783766058,
                1779459.480479525,
                436.5524340304546,
                6235002.96853831,
                2245129.522867569,
                2244889.1833654754,
                532.1052934625186,
                5874927.379627389,
                2686910.5030383472,
                2686484.240644485,
                627.6686380268075,
                5452408.936546143,
                3100199.847838112,
                3099514.196919436,
                723.2424318906851,
                4971927.353413848,
                3480603.586085704,
                3479576.108979856,
                818.8266162760556,
                4438579.001764334,
                3824076.376326712,
                3822617.4887238774,
                914.4209475838579,
                3858023.4083800944,
                4126963.6893390846,
                4124978.670973662,
                1010.024054744281,
                3236429.665431371,
                4386038.231675862,
                4383429.396938678,
                1105.634639924392,
                2580404.406551834,
                4598538.89335187,
                4595207.876235704,
                1201.249424437992,
                1896936.089140167,
                4762196.663267875,
                4758046.802581224,
                1296.867683145683,
                1193288.822053814,
                4875267.909666376,
                4870206.642455031,
                1392.486381274648,
                476959.1830670356,
                4936544.22046958,
                4930485.521111525,
                1488.101850694511,
                -244415.0034528705,
                4945371.150528777,
                4938237.92529154,
                1583.710972080007,
                -963145.7193694683,
                4901656.161096238,
                4893382.554125474,
                1679.311465972569,
                -1671579.585736495,
                4805867.847003841,
                4796401.424197258,
                1774.900561000686,
                -2362169.8605515473,
                4659031.250238435,
                4648335.043542007,
                1870.477279939223,
                -3027573.554308326,
                4462713.171284808,
                4450767.501189156,
                1966.037742805202,
                -3660697.1893726583,
                4219014.354166843,
                4205818.485433694,
                2061.580938112456,
                -4254813.195619821,
                3930535.575392347,
                3916109.0367311724,
                2157.107323198579,
                -4803618.954285535,
                3600348.566897092,
                3584732.2006702847,
                2252.615497133229,
                -5301284.094463019,
                3231974.168491853,
                3215230.909385177,
                2348.105759778991,
                -5742533.678971377,
                2829333.079700058,
                2811548.353883322,
                2443.578681943472,
                -6122694.820617163,
                2396707.963386753,
                2377989.756563909,
                2539.035782113206,
                -6437748.061134168,
                1938694.3532417382,
                1919172.912618919,
                2634.479037998244,
                -6684366.202030844,
                1460153.31010686,
                1439980.488298614,
                2729.911091784015,
                -6859948.567282996,
                966158.5692498289,
                945506.8037656171,
                2825.333916780073,
                -6962645.402237933,
                461949.6369572409,
                441010.57664673013,
                2920.752347249072,
                -6991379.890971404,
                -47142.223572960014,
                -68159.44983514186,
                3016.168045322411,
                -6945853.7020929605,
                -555718.288111098,
                -576589.1215528469,
                3111.584164900705,
                -6826554.716171552,
                -1058393.943663456,
                -1078880.773704461,
                3207.005761214532,
                -6634744.923125988,
                -1549857.19600445,
                -1569712.006134514,
                3302.435448160395,
                -6372453.313453742,
                -2024901.516572852,
                -2043868.809817482,
                3397.875809459947,
                -6042453.923010214,
                -2478493.638289019,
                -2496313.588248795,
                3493.329607998021,
                -5648235.231048037,
                -2905827.3692946266,
                -2922239.156488671,
                3588.799325656146,
                -5193964.653834883,
                -3302371.758201864,
                -3317117.0602061152,
                3684.286400454585,
                -4684449.403585631,
                -3663916.011143236,
                -3676742.617306598,
                3779.791575449053,
                -4125086.170543902,
                -3986616.469044127,
                -3997281.959280463,
                3875.316073663998,
                -3521797.7151405932,
                -4267041.393197523,
                -4275316.805541782,
                3970.858985453378,
                -2880987.050296978,
                -4502199.794617209,
                -4507873.3235977,
                4066.418464179151,
                -2209464.799770928,
                -4689579.803301541,
                -4692460.396588118,
                4161.993427318521,
                -1514365.077459652,
                -4827179.468060611,
                -4827100.236360098,
                4257.581617415417,
                -803083.095957018,
                -4913524.519223379,
                -4910346.012524904,
                4353.181460662745,
                -83183.17785037024,
                -4947687.139498553,
                -4941300.326239274,
                4448.789064504672,
                637659.4169230488,
                -4929295.27191484,
                -4919624.328692273,
                4544.402369507588,
                1351771.6900226038,
                -4858538.7372482605,
                -4845543.361753914,
                4640.017826354597,
                2051540.3223566841,
                -4736167.473422134,
                -4719844.9268959705,
                4735.632750741206,
                2729511.049264409,
                -4563482.810420881,
                -4543869.455038068,
                4831.244075519498,
                3378459.5381163456,
                -4342324.737054688,
                -4319497.156662368,
                4926.849635643885,
                3991477.914772848,
                -4075049.511377158,
                -4049125.098370736,
                5022.446901770309,
                4562040.183567077,
                -3764507.006883347,
                -3735644.078254722,
                5118.036776315421,
                5084093.324532469,
                -3413996.57688148,
                -3382393.849239082,
                5213.616850634571,
                5552082.084151408,
                -3027253.941166449,
                -2993149.673420301,
                5309.186644759029,
                5961039.088072316,
                -2608393.942503856,
                -2572064.377459656,
                5404.747366940137,
                6306631.931596849,
                -2161864.653944966,
                -2123621.951393099,
                5500.29936513165,
                6585197.48265846,
                -1692410.909059642,
                -1652600.6205730638,
                5595.843199768569,
                6793786.237813152,
                -1205019.507986822,
                -1164017.520388644,
                5691.381594445556,
                6930195.396496802,
                -704855.687839703,
                -663064.6811356132,
                5786.914864741266,
                6992983.02467346,
                -197231.7236549761,
                -155077.24189862382,
                5882.447560771834,
                6981489.36586786,
                312484.05740505224,
                354557.968518578,
                5977.980830438901,
                6895837.23862201,
                818883.5431876412,
                860419.0122659589,
                6073.516742291395,
                6736934.937781842,
                1316598.753159351,
                1357129.084125226,
                6169.0570332692,
                6506466.375285208,
                1800351.952735536,
                1839406.869270909,
                6264.604866702575,
                6206868.017614033,
                2265019.947048595,
                2302130.987408665,
                6360.161011735909,
                5841313.736238212,
                2705669.0673032873,
                2740375.168911467,
                6455.726316722576,
                5413677.146782192,
                3117620.364371426,
                3149473.479287535,
                6551.302400103305,
                4928486.044819013,
                3496501.453520906,
                3525072.121921579,
                6646.888698614202,
                4390889.392466297,
                3838280.883508259,
                3863163.8292837027,
                6742.484864930157,
                3806592.935476567,
                4139321.8117082505,
                4160141.3261258095,
                6838.090023037512,
                3181802.7045043767,
                4396417.967125239,
                4412833.105131347,
                6933.70309638558,
                2523157.649717505,
                4606829.164632814,
                4618538.649443295,
                7029.321464791428,
                1837669.063869366,
                4768308.663244236,
                4775055.516825014,
                7124.941979383584,
                1132640.062853248,
                4879131.7547202315,
                4880707.479302305,
                7220.562936540227,
                415572.6678284522,
                4938116.180266642,
                4934364.359337191,
                7316.179554490373,
                -305878.9530420684,
                4944631.697732152,
                4935451.320142998,
                7411.790264770389,
                -1024037.523648824,
                4898610.526418479,
                4883958.383125626,
                7507.391624932643,
                -1731246.9620070439,
                4800546.017454494,
                4780438.76194431,
                7602.981327229645,
                -2419976.930962529,
                4651487.168872712,
                4626002.549368877,
                7698.555925127584,
                -3082887.246392679,
                4453029.979511115,
                4422307.509108446,
                7794.11408433225,
                -3712929.585522937,
                4207294.373173082,
                4171535.1075266763,
                7889.653557760175,
                -4303401.657140653,
                3916906.574507766,
                3876372.3323981473,
                7985.174284433015,
                -4848038.311427939,
                3584961.9962257287,
                3539973.694306721,
                8080.676069471519,
                -5341062.26371546,
                3214997.318320769,
                3165932.710697234,
                8176.159629528411,
                -5777250.892409144,
                2810948.857366906,
                2758239.52197277,
                8271.626131678931,
                -6151987.901709004,
                2377111.5940255984,
                2321239.262771705,
                8367.076821578667,
                -6461310.296389853,
                1918094.984998151,
                1859587.234578077,
                8462.514653219841,
                -6701954.16518169,
                1438765.754868683,
                1378191.0478829378,
                8557.941507815849,
                -6871379.483869395,
                944209.5298229577,
                882171.7695014406,
                8653.35962207755,
                -6967802.150854032,
                439670.3261251296,
                376802.8514581093,
                8748.773505887948,
                -6990211.399443824,
                -69515.47099315147,
                -132556.3320296176,
                8844.185253884643,
                -6938376.011735591,
                -577950.5604403301,
                -640492.2864366943,
                8939.599623321556,
                -6812847.335991957,
                -1080260.318602275,
                -1141621.308736278,
                9035.019732266665,
                -6614953.621757879,
                -1571126.240375851,
                -1630623.17012899,
                9130.44875630876,
                -6346786.5518673,
                -2045350.8672543021,
                -2102306.208504933,
                9225.888826861046,
                -6011182.879104305,
                -2497907.130560931,
                -2551656.7851946168,
                9321.343315334525,
                -5611687.334447874,
                -2924002.237796024,
                -2973903.097402566,
                9416.812863573432,
                -5152531.106131271,
                -3319110.18452607,
                -3364547.753317508,
                9512.300366163254,
                -4638566.7262865035,
                -3679041.576396242,
                -3719437.221733932,
                9607.806047215126,
                -4075240.5130410613,
                -3999967.537335822,
                -4034785.712745918,
                9703.331001510378,
                -3468518.149682438,
                -4278474.682577842,
                -4307229.644947561,
                9798.87522464851,
                -2824833.100115115,
                -4511594.4141416475,
                -4533856.633094299,
                9894.436190743,
                -2151030.780037609,
                -4696834.052840181,
                -4712236.248054171,
                9990.011616249103,
                -1454278.493342935,
                -4832212.6296575535,
                -4840455.059300804,
                10085.60128522804,
                -741974.4205993888,
                -4916282.271159644,
                -4917137.21798999,
                10181.20186021551,
                -21706.931855265702,
                -4948137.456651525,
                -4941453.39581807,
                10276.8101945403,
                698850.1584788179,
                -4927431.417440533,
                -4913136.169148626,
                10372.42283412488,
                1412016.393814635,
                -4854379.853413692,
                -4832482.943233466,
                10468.03716853028,
                2110195.776734523,
                -4729757.7283585705,
                -4700351.781199839,
                10563.65053891204,
                2785951.3601587843,
                -4554890.769935515,
                -4518152.068552613,
                10659.25948396325,
                3432080.132106405,
                -4331643.642991934,
                -4287831.8075219765,
                10754.86242893385,
                4041708.693147013,
                -4062394.019147797,
                -4011850.536146334,
                10850.45712736901,
                4608349.012381341,
                -3750011.93528189,
                -3693157.929781841,
                10946.04268313851,
                5125980.300252348,
                -3397823.074359176,
                -3335156.000235148,
                11041.61890953546,
                5589107.455346321,
                -3009573.554135581,
                -2941663.024554548,
                11137.18518357491,
                5992813.57479258,
                -2589394.3216097066,
                -2516877.116750326,
                11232.74188904325,
                6332818.9545682445,
                -2141751.144716083,
                -2065325.294847924,
                11328.29016661271,
                6605523.256252749,
                -1671397.076271412,
                -1591815.186541393,
                11423.83188272361,
                6808041.431423665,
                -1183321.497395619,
                -1101383.36795585,
                11519.36729166191,
                6938229.633335327,
                -682709.2472285592,
                -599253.8911214891,
                11614.90013385192,
                6994715.4114819495,
                -174859.2245691457,
                -90756.22376768214,
                11710.43141292175,
                6976902.476462513,
                334839.3058918151,
                418698.8143733082,
                11805.96437895438,
                6884980.852194542,
                840989.7121628167,
                923702.4810006095,
                11901.50091504911,
                6719923.717262255,
                1338225.6796374312,
                1418886.0675740691,
                11997.0429341658,
                6483478.147678096,
                1821275.252893015,
                1898985.130880352,
                12000.0000001397,
                6475046.51077172,
                1835943.1723283848,
                1913547.5684945171
            ]
        },
        "point": {
            "color": {
                "rgba": [
                    255,
                    255,
                    255,
                    255
                ]
            },
            "pixelSize": 10,
            "outlineColor": {
                "rgba": [
                    0,
                    0,
                    0,
                    255
                ]
            },
            "outlineWidth": 2
        },
        "path": {
            "show": true,
            "width": 2,
            "material": {
                "solidColor": {
                    "color": {
                        "rgba": [
                            0,
                            255,
                            255,
                            255
                        ]
                    }
                }
            }
        }
    }
]
;

// upload data anf follow the satellite 
Cesium.CzmlDataSource.load(czmlData).then(function(dataSource) {
  viewer.dataSources.add(dataSource);
  
  
  const satelit = dataSource.entities.getById('Satelit_Gmat');
  
  if (satelit) {
    viewer.trackedEntity = satelit;
    
    
    satelit.point = new Cesium.PointGraphics({
      pixelSize: 12,
      color: Cesium.Color.YELLOW,
      outlineColor: Cesium.Color.BLACK,
      outlineWidth: 2
    });
    
    //using interpolation to fix the broken paths
    satelit.position.setInterpolationOptions({
      interpolationAlgorithm: Cesium.HermitePolynomialApproximation,
      interpolationDegree: 2
    });
  }
}).catch(function(error) {
  console.error(error);
});
